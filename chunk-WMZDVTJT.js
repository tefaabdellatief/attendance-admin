import{a as T,c as V,d as F,g as D,p as I}from"./chunk-OVLE5S5M.js";import{$ as p,C,Ca as k,G as d,H as u,L as v,M as l,N as c,O as r,S as _,T as g,U as h,Z as M,ba as w,da as S,ea as O,fa as x,ga as y,h as b,n as m,o as f,wa as P,xa as E,z as s}from"./chunk-JMF3YSV7.js";function z(o,e){o&1&&(c(0,"span",7),p(1,"\u{1F50D}"),r())}function N(o,e){if(o&1){let t=_();c(0,"button",8),g("click",function(){m(t);let i=h();return f(i.clearSearch())}),p(1," \u2715 "),r()}o&2&&v("aria-label","\u0645\u0633\u062D \u0627\u0644\u0628\u062D\u062B")}function A(o,e){if(o&1){let t=_();c(0,"div",11),g("click",function(){let i=m(t).$implicit,a=h(2);return f(a.selectSuggestion(i))}),p(1),r()}if(o&2){let t=e.$implicit;s(),w(" ",t," ")}}function Y(o,e){if(o&1&&(c(0,"div",9),d(1,A,2,1,"div",10),r()),o&2){let t=h();s(),l("ngForOf",t.suggestions)("ngForTrackBy",t.trackBySuggestion)}}var B=class o{placeholder="\u0627\u0644\u0628\u062D\u062B...";disabled=!1;suggestions=[];showSuggestions=!1;search=new u;clear=new u;suggestionSelected=new u;value="";isFocused=!1;onChange=e=>{};onTouched=()=>{};get hasValue(){return!!(this.value&&this.value.trim().length>0)}onValueChange(e){this.value=e,this.onChange(e),this.search.emit(e)}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1,this.onTouched()}onEnter(){this.search.emit(this.value)}onEscape(){this.clearSearch()}clearSearch(){this.value="",this.onChange(""),this.clear.emit(),this.search.emit("")}selectSuggestion(e){this.value=e,this.onChange(e),this.suggestionSelected.emit(e),this.search.emit(e)}trackBySuggestion(e,t){return t}writeValue(e){this.value=e||""}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=C({type:o,selectors:[["app-enhanced-search"]],inputs:{placeholder:"placeholder",disabled:"disabled",suggestions:"suggestions",showSuggestions:"showSuggestions"},outputs:{search:"search",clear:"clear",suggestionSelected:"suggestionSelected"},features:[y([{provide:T,useExisting:b(()=>o),multi:!0}])],decls:7,vars:10,consts:[[1,"enhanced-search-container"],[1,"search-input-wrapper"],["type","text","autocomplete","off",1,"search-input",3,"ngModelChange","focus","blur","keydown.enter","keydown.escape","ngModel","placeholder","disabled"],[1,"search-icons"],["class","search-icon",4,"ngIf"],["type","button","class","clear-button",3,"click",4,"ngIf"],["class","search-suggestions",4,"ngIf"],[1,"search-icon"],["type","button",1,"clear-button",3,"click"],[1,"search-suggestions"],["class","suggestion-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"suggestion-item",3,"click"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1)(2,"input",2),x("ngModelChange",function(a){return O(n.value,a)||(n.value=a),a}),g("ngModelChange",function(a){return n.onValueChange(a)})("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("keydown.enter",function(){return n.onEnter()})("keydown.escape",function(){return n.onEscape()}),r(),c(3,"div",3),d(4,z,2,0,"span",4)(5,N,2,1,"button",5),r()(),d(6,Y,2,2,"div",6),r()),t&2&&(M("focused",n.isFocused)("has-value",n.hasValue),s(2),S("ngModel",n.value),l("placeholder",n.placeholder)("disabled",n.disabled),s(2),l("ngIf",!n.hasValue&&!n.isFocused),s(),l("ngIf",n.hasValue&&!n.disabled),s(),l("ngIf",n.showSuggestions&&n.suggestions.length>0))},dependencies:[k,P,E,I,V,F,D],styles:[".enhanced-search-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:500px;transition:all .3s ease}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:#fff;border:2px solid #e2e8f0;border-radius:25px;transition:all .3s ease;box-shadow:0 2px 4px #0000000d}.enhanced-search-container.focused[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{border-color:#f6b819;box-shadow:0 0 0 3px #f6b8191a;transform:translateY(-1px)}.enhanced-search-container.has-value[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.search-input[_ngcontent-%COMP%]{flex:1;padding:.875rem 1.25rem;border:none;outline:none;background:transparent;font-size:1rem;color:#1e293b;direction:rtl;text-align:right;transition:all .3s ease}.search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-size:.95rem;transition:all .3s ease}.enhanced-search-container.focused[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#64748b;transform:translate(-5px)}.search-icons[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);display:flex;align-items:center;gap:.5rem}.search-icon[_ngcontent-%COMP%]{color:#94a3b8;font-size:1.1rem;transition:all .3s ease}.enhanced-search-container.focused[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#f6b819;transform:scale(1.1)}.clear-button[_ngcontent-%COMP%]{background:#f1f5f9;border:none;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#64748b;font-size:.8rem;transition:all .2s ease;opacity:.7}.clear-button[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#475569;opacity:1;transform:scale(1.1)}.search-suggestions[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 10px 25px #0000001a;z-index:1000;margin-top:.5rem;max-height:200px;overflow-y:auto;animation:_ngcontent-%COMP%_slideDown .2s ease}.suggestion-item[_ngcontent-%COMP%]{padding:.75rem 1.25rem;cursor:pointer;color:#374151;font-size:.95rem;transition:all .2s ease;border-bottom:1px solid #f1f5f9}.suggestion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.suggestion-item[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#1e293b}.suggestion-item[_ngcontent-%COMP%]:active{background:#e2e8f0}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.enhanced-search-container[_ngcontent-%COMP%]{max-width:100%}.search-input[_ngcontent-%COMP%]{font-size:.95rem;padding:.75rem 1rem}.search-icons[_ngcontent-%COMP%]{left:.75rem}}@media (prefers-color-scheme: dark){.search-input-wrapper[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.search-input[_ngcontent-%COMP%]{color:#f1f5f9}.search-input[_ngcontent-%COMP%]::placeholder{color:#64748b}.search-suggestions[_ngcontent-%COMP%]{background:#1e293b;border-color:#334155}.suggestion-item[_ngcontent-%COMP%]{color:#cbd5e1;border-bottom-color:#334155}.suggestion-item[_ngcontent-%COMP%]:hover{background:#334155;color:#f1f5f9}}"]})};export{B as a};
